<!doctype html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Perplexity-style Chat</title><link href=/wasm-knowledge-chatbot-rs/output-588b9ff09b928090.css integrity=sha384-QmG8gaNlKT/ir66jh0JhjaqAAGNkUVg9vPPS5sNYAJUJVgMIWz9lymbtSCLYZdak rel=stylesheet><link href=/wasm-knowledge-chatbot-rs/favicon-d537e8190fcbad8e.ico integrity=sha384-8OBiNX9QBPkNXlck6UC9PEiitxU9FlDnTfxbQWxd4kK4tIKitE61Nvi4DkBJuHkO rel=icon><script src=https://unpkg.com/lucide@latest/dist/umd/lucide.js></script><script>document.addEventListener(`DOMContentLoaded`,(()=>{if(typeof lucide!==`undefined`&&lucide.createIcons){lucide.createIcons()}}))</script><script type=module>import*as a from"https://esm.run/@mlc-ai/web-llm";window.webllm=a;console.log(`WebLLM loaded successfully`)</script><script type=module>import init, * as bindings from '/wasm-knowledge-chatbot-rs/wasm-knowledge-chatbot-rs-d96cbe5d87fe7c49.js';
const wasm = await init({ module_or_path: '/wasm-knowledge-chatbot-rs/wasm-knowledge-chatbot-rs-d96cbe5d87fe7c49_bg.wasm' });


window.wasmBindings = bindings;


dispatchEvent(new CustomEvent("TrunkApplicationStarted", {detail: {wasm}}));</script><link crossorigin href=/wasm-knowledge-chatbot-rs/wasm-knowledge-chatbot-rs-d96cbe5d87fe7c49.js integrity=sha384-n6YzBXGbqsS8G/lr3odKea+gXPalrhNVF2RxC+cJ5jiNLpRiSmUWL4v60ciK9EnG rel=modulepreload><link as=fetch crossorigin href=/wasm-knowledge-chatbot-rs/wasm-knowledge-chatbot-rs-d96cbe5d87fe7c49_bg.wasm integrity=sha384-ncabh0g5/J1bCtxxzw6BNqfxNMT7S4rrpUiYBC1rsbJL+LuVEnxAcvZh1KWjfjRC rel=preload type=application/wasm></head><body><script>`use strict`;(()=>{let g=`div`,h=`0`;const a=`{{__TRUNK_ADDRESS__}}`;const b=`{{__TRUNK_WS_BASE__}}`;let c=``;c=c?c:window.location.protocol===`https:`?`wss`:`ws`;const d=c+ `://`+ a+ b+ `.well-known/trunk/ws`;class e{constructor(){this._overlay=document.createElement(g);const a=this._overlay.style;a.height=`100vh`;a.width=`100vw`;a.position=`fixed`;a.top=h;a.left=h;a.backgroundColor=`rgba(222, 222, 222, 0.5)`;a.fontFamily=`sans-serif`;a.zIndex=`1000000`;a.backdropFilter=`blur(1rem)`;const b=document.createElement(g);b.style.position=`absolute`;b.style.top=`30%`;b.style.left=`15%`;b.style.maxWidth=`85%`;this._title=document.createElement(g);this._title.innerText=`Build failure`;this._title.style.paddingBottom=`2rem`;this._title.style.fontSize=`2.5rem`;this._message=document.createElement(g);this._message.style.whiteSpace=`pre-wrap`;const c=document.createElement(g);c.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#dc3545" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/></svg>`;this._title.prepend(c);b.append(this._title,this._message);this._overlay.append(b);this._inject();window.setInterval(()=>{this._inject()},250)}reason(a){this._message.textContent=a}_inject(){if(!this._overlay.isConnected){document.body?.prepend(this._overlay)}}}class f{constructor(a){this.url=a;this.poll_interval=5000;this._overlay=null}start(){const a=new WebSocket(this.url);a.onmessage=a=>{const b=JSON.parse(a.data);switch(b.type){case `reload`:this.reload();break;case `buildFailure`:this.buildFailure(b.data);break}};a.onclose=()=>this.onclose()}onclose(){window.setTimeout(()=>{const a=new WebSocket(this.url);a.onopen=()=>window.location.reload();a.onclose=()=>this.onclose()},this.poll_interval)}reload(){window.location.reload()}buildFailure({reason:a}){console.error(`Build failed:`,a);console.debug(`Overlay`,this._overlay);if(!this._overlay){this._overlay=new e()};this._overlay.reason=a}}new f(d).start()})()</script></body></html>